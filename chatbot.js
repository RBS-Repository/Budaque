import e from"./botdesign.js";let flowiseChat;async function initializeFlowise(){flowiseChat=await Chatbot.init(e)}function initializeChatbot(){let e=document.querySelector(".chatbot-toggle"),t=document.querySelector(".chatbot-container"),a=document.querySelector(".close-chat"),s=document.querySelector(".chat-input"),i=document.querySelector(".send-button"),n=document.querySelector(".typing-indicator");async function l(){let e=s.value.trim();if(e){addMessage(e,!0),s.value="",n.style.display="flex";try{let t=await flowiseChat.sendMessage(e);n.style.display="none",addMessage(t)}catch(a){console.error("Error:",a),n.style.display="none",addMessage("Sorry, I encountered an error. Please try again later.")}}}e?.addEventListener("click",()=>{t?.classList.toggle("active")}),a?.addEventListener("click",()=>{t?.classList.remove("active")}),i?.addEventListener("click",l),s?.addEventListener("keypress",e=>{"Enter"===e.key&&l()}),addMessage("Hello! How can I help you today?")}function addMessage(e,t=!1){let a=document.querySelector(".chat-messages"),s=document.createElement("div");s.className=`chat-message ${t?"user-message":"bot-message"}`,s.textContent=e,a?.appendChild(s),a?.scrollTo(0,a.scrollHeight)}document.addEventListener("DOMContentLoaded",async()=>{await initializeFlowise(),initializeChatbot()});